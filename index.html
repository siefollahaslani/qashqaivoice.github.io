<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QashqAI Voice - Record</title>
</head>
<body>
<h1>ğŸ™ï¸ QashqAI Voice</h1>

<p>
ğŸŒ <strong>Deutsch:</strong> Klicken Sie auf die SchaltflÃ¤che, um Ihre Stimme aufzunehmen.  
<br>
ğŸŒ <strong>ÙØ§Ø±Ø³ÛŒ:</strong> Ø¨Ø±Ø§ÛŒ Ø¶Ø¨Ø· ØµØ¯Ø§ÛŒ Ø®ÙˆØ¯ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯.  
<br>
ğŸŒ <strong>TÃ¼rkÃ§e:</strong> Sesinizi kaydetmek iÃ§in dÃ¼ÄŸmeye tÄ±klayÄ±n.
</p>

<button id="recordButton">ğŸ¤ Start / Ø´Ø±ÙˆØ¹ / BaÅŸla</button>
<p id="status"></p>
<audio id="audioPlayback" controls></audio>

<script>
const recordButton = document.getElementById("recordButton");
const status = document.getElementById("status");
const audioPlayback = document.getElementById("audioPlayback");

let mediaRecorder;
let audioChunks = [];
let recording = false;

recordButton.addEventListener("click", () => {
    if (!recording) {
        navigator.mediaDevices.getUserMedia({ audio: true })
        .then(stream => {
            mediaRecorder = new MediaRecorder(stream);
            mediaRecorder.start();
            status.textContent = "Recording... / Ø¯Ø± Ø­Ø§Ù„ Ø¶Ø¨Ø· / KayÄ±t yapÄ±lÄ±yor...";
            recordButton.textContent = "â¹ï¸ Stop / ØªÙˆÙ‚Ù / Durdur";
            audioChunks = [];
            recording = true;

            mediaRecorder.ondataavailable = event => {
                if (event.data.size > 0) {
                    audioChunks.push(event.data);
                }
            };

            mediaRecorder.onstop = () => {
                const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                const audioUrl = URL.createObjectURL(audioBlob);
                audioPlayback.src = audioUrl;
                status.textContent = "Stopped. â–¶ï¸ Listen / ØªÙˆÙ‚Ù / Dinleyin";
                recordButton.textContent = "ğŸ¤ Start / Ø´Ø±ÙˆØ¹ / BaÅŸla";
                recording = false;
            };
        })
        .catch(err => {
            console.error(err);
            status.textContent = "âŒ Access denied / Ø¯Ø³ØªØ±Ø³ÛŒ Ø±Ø¯ Ø´Ø¯ / EriÅŸim reddedildi";
        });
    } else {
        mediaRecorder.stop();
    }
});
</script>
</body>
</html>
